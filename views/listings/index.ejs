<% layout("layouts/boilerPlate.ejs")%>
<!--aapan ejs la views folder set kel aahe -->

<body>
  <div id="filters">

    <a href="/filters/trending?search=trending">
    <div class="filter">
      <i class="fa-solid fa-fire"></i>
      <p>trending</p>
    </div>
  </a>

  <a href="/filters/building?search=building">
    <div class="filter building">
      <i class="fa-solid fa-building"></i>
      <p>building</p>
    </div>
  </a>

  <a href="/filters/skyline?search=skyline">
  <div class="filter">
    <i class="fa-solid fa-mountain-city"></i>
    <p>skyline</p>
  </div>
  </a>
  
  <a href="/filters/oasis?search=oasis">
  <div class="filter">
      <i class="fa-solid fa-umbrella-beach"></i>
      <p>oasis</p>
    </div>
  </a>

  <a href="/filters/bed?search=bed">
  <div class="filter">
      <i class="fa-solid fa-bed"></i>
      <p>bed</p>
    </div>
  </a>


  <a href="/filters/nest?search=nest">
  <div class="filter">
      <i class="fa-solid fa-house-chimney"></i>
      <p>nest</p>
    </div>
  </a>

  <a href="/filters/vista?search=vista">
  <div class="filter">
      <i class="fa-solid fa-binoculars"></i>
      <p>vista</p>
    </div>
  </a>

  <a href="/filters/forest?search=forest">
  <div class="filter">
      <i class="fa-solid fa-tree"></i>
      <p>forest</p>
    </div>
  </a>

  <a href="/filters/water?search=water">
  <div class="filter">
      <i class="fa-solid fa-person-swimming"></i>
      <p>water</p>
    </div>
  </a>

  <a href="/filters/hotel?search=hotel">
  <div class="filter">
      <i class="fa-solid fa-bell-concierge"></i>
      <p>hotel</p>
    </div>
  </a>

  <a href="/filters/sunset?search=sunset">
  <div class="filter">
     <i class="fa-solid fa-sun"></i>
      <p>sunset</p>
    </div>
  </a>

  <div class="filters-switch form-check-label">
    <div class="form-check form-switch form-check-reverse">
      <input class="form-check-input btSwitch" type="checkbox" role="switch" id="switchCheckDefault">
      <label class="form-check-label" for="switchCheckDefault">All Taxes After Total</label>
    </div>
  </div>

</div>

  <div class="row row-cols-lg-3 row-cols-md-3 row-cols-sm-2 mt-0"><% for(let listing of allListings) { %>
    <a href="/listings/<%=listing._id%>">
      <div class="card ind-card">
      <img src="<%=listing.image.url%>" class="card-img-top index-img" alt="listing" />
      <div class="card-img-overlay">open</div>
      <div class="card-body">
        <p class="card-text"></p>
         <b> <%=listing.title%></b> </br>
          <%=listing.price.toLocaleString("en-IN")%>/night
          <i class="show-taxes">&nbsp;&nbsp;18%+ GST</i>
        </p>
      </div>
    </div>
  </a>

    <% } %></div>
</body>

<script>
  let listingTaxes=document.querySelector(".btSwitch");
  listingTaxes.addEventListener("click",()=>{
    let showTaxes=document.getElementsByClassName("show-taxes")
    for(tax of showTaxes){
      if(tax.style.display!="inline"){
      tax.style.display="inline";
    }
     else{
      tax.style.display="none";
    }
    }
  });
</script>